{"version":3,"file":"Filter-D6XJ-4L3.js","sources":["../../node_modules/pixi.js/lib/filters/Filter.mjs"],"sourcesContent":["import { GlProgram } from '../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { Shader } from '../rendering/renderers/shared/shader/Shader.mjs';\nimport { State } from '../rendering/renderers/shared/state/State.mjs';\n\n\"use strict\";\nconst _Filter = class _Filter extends Shader {\n  /**\n   * @param options - The optional parameters of this filter.\n   */\n  constructor(options) {\n    options = { ..._Filter.defaultOptions, ...options };\n    super(options);\n    /** If enabled is true the filter is applied, if false it will not. */\n    this.enabled = true;\n    /**\n     * The gpu state the filter requires to render.\n     * @internal\n     */\n    this._state = State.for2d();\n    this.blendMode = options.blendMode;\n    this.padding = options.padding;\n    if (typeof options.antialias === \"boolean\") {\n      this.antialias = options.antialias ? \"on\" : \"off\";\n    } else {\n      this.antialias = options.antialias;\n    }\n    this.resolution = options.resolution;\n    this.blendRequired = options.blendRequired;\n    this.clipToViewport = options.clipToViewport;\n    this.addResource(\"uTexture\", 0, 1);\n    if (options.blendRequired) {\n      this.addResource(\"uBackTexture\", 0, 3);\n    }\n  }\n  /**\n   * Applies the filter\n   * @param filterManager - The renderer to retrieve the filter from\n   * @param input - The input render target.\n   * @param output - The target to output to.\n   * @param clearMode - Should the output be cleared before rendering to it\n   */\n  apply(filterManager, input, output, clearMode) {\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n  /**\n   * Get the blend mode of the filter.\n   * @default \"normal\"\n   */\n  get blendMode() {\n    return this._state.blendMode;\n  }\n  /** Sets the blend mode of the filter. */\n  set blendMode(value) {\n    this._state.blendMode = value;\n  }\n  /**\n   * A short hand function to create a filter based of a vertex and fragment shader src.\n   * @param options\n   * @returns A shiny new PixiJS filter!\n   */\n  static from(options) {\n    const { gpu, gl, ...rest } = options;\n    let gpuProgram;\n    let glProgram;\n    if (gpu) {\n      gpuProgram = GpuProgram.from(gpu);\n    }\n    if (gl) {\n      glProgram = GlProgram.from(gl);\n    }\n    return new _Filter({\n      gpuProgram,\n      glProgram,\n      ...rest\n    });\n  }\n};\n/** The default filter settings */\n_Filter.defaultOptions = {\n  blendMode: \"normal\",\n  resolution: 1,\n  padding: 0,\n  antialias: \"off\",\n  blendRequired: false,\n  clipToViewport: true\n};\nlet Filter = _Filter;\n\nexport { Filter };\n//# sourceMappingURL=Filter.mjs.map\n"],"names":["_Filter","Shader","options","State","filterManager","input","output","clearMode","value","gpu","gl","rest","gpuProgram","glProgram","GpuProgram","GlProgram","Filter"],"mappings":"6DAMA,MAAMA,EAAU,MAAMA,UAAgBC,CAAO,CAI3C,YAAYC,EAAS,CACnBA,EAAU,CAAE,GAAGF,EAAQ,eAAgB,GAAGE,CAAO,EACjD,MAAMA,CAAO,EAEb,KAAK,QAAU,GAKf,KAAK,OAASC,EAAM,MAAK,EACzB,KAAK,UAAYD,EAAQ,UACzB,KAAK,QAAUA,EAAQ,QACnB,OAAOA,EAAQ,WAAc,UAC/B,KAAK,UAAYA,EAAQ,UAAY,KAAO,MAE5C,KAAK,UAAYA,EAAQ,UAE3B,KAAK,WAAaA,EAAQ,WAC1B,KAAK,cAAgBA,EAAQ,cAC7B,KAAK,eAAiBA,EAAQ,eAC9B,KAAK,YAAY,WAAY,EAAG,CAAC,EAC7BA,EAAQ,eACV,KAAK,YAAY,eAAgB,EAAG,CAAC,CAEzC,CAQA,MAAME,EAAeC,EAAOC,EAAQC,EAAW,CAC7CH,EAAc,YAAY,KAAMC,EAAOC,EAAQC,CAAS,CAC1D,CAKA,IAAI,WAAY,CACd,OAAO,KAAK,OAAO,SACrB,CAEA,IAAI,UAAUC,EAAO,CACnB,KAAK,OAAO,UAAYA,CAC1B,CAMA,OAAO,KAAKN,EAAS,CACnB,KAAM,CAAE,IAAAO,EAAK,GAAAC,EAAI,GAAGC,CAAI,EAAKT,EAC7B,IAAIU,EACAC,EACJ,OAAIJ,IACFG,EAAaE,EAAW,KAAKL,CAAG,GAE9BC,IACFG,EAAYE,EAAU,KAAKL,CAAE,GAExB,IAAIV,EAAQ,CACjB,WAAAY,EACA,UAAAC,EACA,GAAGF,CACT,CAAK,CACH,CACF,EAEAX,EAAQ,eAAiB,CACvB,UAAW,SACX,WAAY,EACZ,QAAS,EACT,UAAW,MACX,cAAe,GACf,eAAgB,EAClB,EACG,IAACgB,EAAShB","x_google_ignoreList":[0]}